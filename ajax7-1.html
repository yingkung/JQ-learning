<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7-1 ajax处理纯文本</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
    <script>
        // $(function(){
        window.onload = function(){
            document.getElementsByTagName('a')[0].onclick = function(){
            // $('a').click(function(){
                //1. 获取XHR对象
                var request = new XMLHttpRequest();
                //2. 配置Ajax请求参数： 请求类型，请求的url资源， 请求方式（默认为True， 即异步方式）
                alert(this.href.innerHTML);
                request.open('GET', this.href, true);
                // 3.将Ajax请求发送到服务器，GET请求不需要参数，可为空或者传入null
                request.send(null);
                // 4. Ajax对象的事件属性onreadystatechange, 不断监听服务器端的相应
                request.onreadystatechange = function(){
                    // 5. 当请求状态为4， 并且相应代码是200时，表示服务器响应成功， 并返回了用户数据
                    // if (requst.readyState == 4  && request.status == 200 ){
                        if (request.status == 200 ){
                        // 6. 根据数据类型，来更新当前页面中的DOM节点的信息
                        // $('h3')[0].innerHTML = request.responseText;
                        document.getElementsByTagName('h3')[0].innerHTML = request.responseText;
                    }
                }
                // 取消a元素的默认点击行为
                return false;
            }    
        }
    </script>
</head>
<body>
    <a href="./hello.txt">了解PHP中文网</a>
    <h3></h3>
</body>
</html>